<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <title>Heroclix Map Viewer</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
   <link type="text/css" rel="stylesheet" href="css/materialize.css"  media="screen,projection"/>
  <style type="text/css">
    .sideNav {
      width: 250px;
      position: fixed;
      z-index: 1;
      top: 0px;
      bottom: 0px;
      overflow-x: hidden;
      overflow: hidden;
      transition: 0.5s;
    }

    #leftNav {
      left: 0px;
    }

    .toggle {
      position: absolute;
      padding: 10px 5px;
      height: 36px;
    }

    #leftNav #leftToggle {
      right: 0;
    }

    .bar {
      width: 40px;
      height: 6px;
      background-color: black;
      margin: 5px 0;
    }

    .panel {
      display: none;
      padding: 6px 6px;
      position: relative;
      height: calc(100% - 48px);
      overflow-y: none;
    }

    .filterInfo {
      margin: 2px 0px;
    }

    .panelInput {
      position: absolute;
      left: 60px;
      width: calc(100% - 70px);
    }

    .panelList {
      overflow-y: scroll;
      margin: 6px 0px;
	  height: calc(100% - 192px);
    }

    #mapTitle {
      font-family: Arial, Helvetica, sans-serif;
      font-weight: bold;
      text-align: left;
    }

    .mapInfo {
      font-family: Arial, Helvetica, sans-serif;
      font-size: small;
      font-weight: bold;
      text-align: left;
    }

    .top {
      position: fixed;
      top: 0;
      left: 250px;
      right: 0;
      height: 82px;
    }

    #mapHeader {
      font-size: xx-large;
      font-weight: bold;
      text-align: center;
    }

    #mapHeaderType {
      font-size: large;
      font-weight: bold;
      text-align: center;
    }

    .headerButton {
      width: 75px;
    }

    .main {
      position: absolute;
      top: 85px;
      right: 0;
      bottom: 0;
	  left: 250px;
      overflow: hidden;
    }
	
	::-webkit-scrollbar {
		width = 8px;
		height = 8px;
		background = #00000000;
	}
	
	::-webkit-scrollbar-thumb {
		background = #26a69a;
	}
	
	::-webkit-scrollbar-track {
		background = #00000000;
	}
	
	.panelList::-webkit-scrollbar {
		width = 8px;
		height = 8px;
		background = #00000000;
	}
	
	.panelList::-webkit-scrollbar-thumb {
		background = #26a69a;
	}
	
	.panelList::-webkit-scrollbar-track {
		background = #00000000;
	}
  </style>
</head>

<body>
  <div class="main" id="main">
    <canvas id="mapCanvas" onmousedown="onMouseDown(event)" ontouchstart="onTouchStart(event)" ontouchend="onTouchEnd(event)" style="margin-left: auto;margin-right: auto;display:block;"></canvas>
	
	<div class="fixed-action-btn">
	  <a class="btn-floating btn-large red" id="saveAsButton">
		<i class="large material-icons">save</i>
	  </a>
	  <ul>
		<li onclick="mgr.zoomOut()"><a class="btn-floating green"><i class="material-icons">zoom_out</i></a></li>
		<li onclick="mgr.zoomIn()"><a class="btn-floating blue"><i class="material-icons">zoom_in</i></a></li>
	  </ul>
	</div>
  </div>
  <div class="top">
    <div id="mapHeader"></div>
    <div id="mapHeaderType"></div>
  </div>

  <div id="leftNav" class="sideNav">
    <ul class="tabs">
      <li class="tab"><a href="javascript:void(0)" class="active" id="mapsTab" onclick="mgr.openPanel('leftNav', 'mapsTab', 'mapsPanel')">Maps</a></li>
      <li class="tab"><a href="javascript:void(0)" id="infoTab" onclick="mgr.openPanel('leftNav', 'infoTab', 'infoPanel')">Info</a></li>
    </ul>
    <div id="infoPanel" class="panel">
      <div id="mapTitle" class="panelList" style="top:0;height:calc(100% - 30px)">
        <span id="mapName"></span>
        <div id="mapSource" class="mapInfo"></div>
        <div id="mapDate" class="mapInfo"></div>
        <div id="mapType" class="mapInfo"></div>
        <div id="mapSize" class="mapInfo"></div>
        <div id="mapSpecial" class="mapInfo"></div>
      </div>
    </div>
    <div id="mapsPanel" class="panel">
      <div id="filters" style="display: block;">
        <div class="input-field">
          <select id="selectAge" onchange="mgr.applyFilters()">
            <option value="all">All</option>
            <option value="modern">Modern</option>
            <option value="wko">WizKids Events</option>
            <option value="roc">ROC Events</option>
          </select>
		  <label>Age:</label>
        </div>
        <div class="input-field">
          <select id="selectType" onchange="mgr.applyFilters()">
            <option value="all">All</option>
            <option value="indoor">Indoor</option>
            <option value="outdoor">Outdoor</option>
            <option value="indoorOutdoor">Indoor/Outdoor</option>
          </select>
		  <label>Type:</label>
        </div>
        <div class="input-field">
          <select id="selectSize" onchange="mgr.applyFilters()">
            <option value="all">All</option>
            <option value="8x8">8x8</option>
            <option value="16x16">16x16</option>
            <option value="16x24">16x24</option>
            <option value="24x24">24x24</option>
          </select>
		  <label>Size:</label>
        </div>
      </div>
	  <div id="tableOfContents" class="panelList"></div>
    </div>
    <div id="filtersPanel" class="panel">
    </div>
  </div>

  <script type="text/javascript " src="js/json_loader.js "></script>
  <script type="text/javascript " src="js/edge.js "></script>
  <script type="text/javascript " src="js/tile.js "></script>
  <script type="text/javascript " src="js/wall.js "></script>
  <script type="text/javascript " src="js/character.js "></script>
  <script type="text/javascript " src="js/map.js "></script>
  <script type="text/javascript " src="js/player.js "></script>
  <script type="text/javascript " src="js/table_of_contents.js "></script>
  <script type="text/javascript " src="js/view_manager.js "></script>
  <script type="text/javascript " src="js/materialize.js"></script>
  <script>
    var mgr = new ViewManager();
    document.onkeydown = onKeyDown;

    function onKeyDown(event) {
      var KEY_LEFT = '37';
      var KEY_UP = '38';
      var KEY_RIGHT = '39';
      var KEY_DOWN = '40';
      event = event || window.event;
      if (event.keyCode == KEY_LEFT || event.keyCode == KEY_UP) {
        mgr.previousMap();
        event.preventDefault();
      } else if (event.keyCode == KEY_RIGHT || event.keyCode == KEY_DOWN) {
        mgr.nextMap();
        event.preventDefault();
      }
    }

    function onMouseDown(event) {
      mgr.onMouseDown(event);
    }

    function onTouchStart(event) {
      mgr.onTouchStart(event);
    }

    function onTouchEnd(event) {
      mgr.onTouchEnd(event);
    }

    function onFocusOut(elementId) {
      mgr.onFocusOut(elementId);
    }
  </script>

</body>

</html>
